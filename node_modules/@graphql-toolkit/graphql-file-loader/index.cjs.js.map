{"version":3,"file":"index.cjs.js","sources":["../../../dist/loaders/graphql-file/src/index.js"],"sourcesContent":["import { isValidPath, parseGraphQLSDL, } from '@graphql-toolkit/common';\nconst FILE_EXTENSIONS = ['.gql', '.gqls', '.graphql', '.graphqls'];\nexport class GraphQLFileLoader {\n    loaderId() {\n        return 'graphql-file';\n    }\n    async canLoad(pointer, options) {\n        return this.canLoadSync(pointer, options);\n    }\n    canLoadSync(pointer, options) {\n        if (isValidPath(pointer) && options.path && options.fs) {\n            const { resolve, isAbsolute } = options.path;\n            if (FILE_EXTENSIONS.find(extension => pointer.endsWith(extension))) {\n                const normalizedFilePath = isAbsolute(pointer) ? pointer : resolve(options.cwd || process.cwd(), pointer);\n                const { existsSync } = options.fs;\n                if (existsSync(normalizedFilePath)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    async load(pointer, options) {\n        return this.loadSync(pointer, options);\n    }\n    loadSync(pointer, options) {\n        const { resolve, isAbsolute } = options.path;\n        const normalizedFilePath = isAbsolute(pointer) ? pointer : resolve(options.cwd || process.cwd(), pointer);\n        const { readFileSync } = options.fs;\n        const rawSDL = readFileSync(normalizedFilePath, 'utf-8').trim();\n        return parseGraphQLSDL(pointer, rawSDL, options);\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":["isValidPath","parseGraphQLSDL"],"mappings":";;;;;;AACA,MAAM,eAAe,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;AAC5D,MAAM,iBAAiB,CAAC;AAC/B,IAAI,QAAQ,GAAG;AACf,QAAQ,OAAO,cAAc,CAAC;AAC9B,KAAK;AACL,IAAI,MAAM,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE;AACpC,QAAQ,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAClD,KAAK;AACL,IAAI,WAAW,CAAC,OAAO,EAAE,OAAO,EAAE;AAClC,QAAQ,IAAIA,kBAAW,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,EAAE,EAAE;AAChE,YAAY,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC;AACzD,YAAY,IAAI,eAAe,CAAC,IAAI,CAAC,SAAS,IAAI,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE;AAChF,gBAAgB,MAAM,kBAAkB,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC;AAC1H,gBAAgB,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;AAClD,gBAAgB,IAAI,UAAU,CAAC,kBAAkB,CAAC,EAAE;AACpD,oBAAoB,OAAO,IAAI,CAAC;AAChC,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,MAAM,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE;AACjC,QAAQ,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAC/C,KAAK;AACL,IAAI,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE;AAC/B,QAAQ,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC;AACrD,QAAQ,MAAM,kBAAkB,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC;AAClH,QAAQ,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;AAC5C,QAAQ,MAAM,MAAM,GAAG,YAAY,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;AACxE,QAAQ,OAAOC,sBAAe,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;AACzD,KAAK;AACL;;;;"}